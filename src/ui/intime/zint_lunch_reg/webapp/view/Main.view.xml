<mvc:View controllerName="intime.zint_lunch_reg.controller.Main"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:grid="sap.ui.layout.cssgrid"
    xmlns:layout="sap.ui.layout"
    xmlns:f="sap.f"
    xmlns:tnt="sap.tnt">
    <Page showFooter="{state>/adminMode}">
        <Toolbar class="sapUiSmallMargin"
            height="auto">
            <DatePicker width="20%"
                change="onDateChange"
                class="sapUiSmallMargin"
                value="{path:'date>/dateValue', type:'sap.ui.model.type.Date', formatOptions: { style: 'medium', strictParsing: true}}"
                id="DP1" />

            <ToolbarSpacer/>


            <Button text="Администратор"
                press="onGoToAdminModeButtonPress"
                type="Transparent"
                class="sapUiSmallMargin"
                ariaLabelledBy="editButtonLabel"/>
        </Toolbar>

        <Dialog
            id="helloDialog"
            title="Заголовок">
        <content>
            <Text text="Тут контент"/>
        </content>
        <endButton>
            <Button text="Закрыть" press="onCloseDialog"/>
        </endButton>
    </Dialog>

        <Panel id="panelForGridList"
            backgroundDesign="Transparent">

            <headerToolbar>
                <Toolbar height="3rem">
                    <Title text="Первые блюда" />
                    <ToolbarSpacer />
                    <Button icon="sap-icon://add"
                        visible="{state>/adminMode}"/>
                </Toolbar>
            </headerToolbar>

            <f:GridList id="_Soup-GridList"
                items="{/ZSNN_EMP_MENU}"
                select="onSelectDish"
                mode="MultiSelect"
                >
                <f:GridListItem selected="{DishChoosen}" type="{= ${state>/adminMode} ? 'Detail' : 'Inactive' }"
                detailPress="onDetailPress">
                
                    <HBox class="sapUiSmallMargin">
                        <Avatar
							src="{/Speakers}"
							displaySize="S"
							displayShape="Square"
							showBorder="true"/>
                        <layoutData>
                            <FlexItemData growFactor="1"
                                shrinkFactor="0" />
                        </layoutData>

                        <VBox class="sapUiSmallMargin">
                        <Title text="{DISH_DESCR}"
                            wrapping="true" />
                        <Label text="{DISH_COMPOSITION}"
                            wrapping="true" />
                            </VBox>
                    </HBox>
                </f:GridListItem>
            </f:GridList>
        </Panel>


        <Panel id="panelForGridList2"
            backgroundDesign="Transparent">
            <headerToolbar>
                <Toolbar height="3rem">
                    <Title text="Горячее" />
                    <ToolbarSpacer />
                    <Button icon="sap-icon://add"
                        visible="{state>/adminMode}"/>
                </Toolbar>
            </headerToolbar>

            <f:GridList id="_Hot-GridList"
                items="{/ZSNN_EMP_MENU}"
                select="onSelectDish"
                mode="MultiSelect">
                <f:GridListItem selected="{DishChoosen}"
                type="{= ${state>/adminMode} ? 'Detail' : 'Inactive' }">
                    <VBox class="sapUiSmallMargin">
                        <layoutData>
                            <FlexItemData growFactor="1"
                                shrinkFactor="0" />
                        </layoutData>

                        <Title text="{DISH_DESCR}"
                            wrapping="true" />
                        <Label text="{DISH_COMPOSITION}"
                            wrapping="true" />
                    </VBox>
                </f:GridListItem>
            </f:GridList>
        </Panel>

        <Panel id="panelForGridList3"
            backgroundDesign="Transparent">
            <headerToolbar>
                <Toolbar height="3rem">
                    <Title text="Гарнир" />
                    <ToolbarSpacer />
                    <Button icon="sap-icon://add"
                        visible="{state>/adminMode}"/>
                </Toolbar>
            </headerToolbar>

            <f:GridList id="_Garnish-GridList"
                items="{/ZSNN_EMP_MENU}"
                select="onSelectDish"
                mode="MultiSelect">
                <f:GridListItem selected="{DishChoosen}"
                type="{= ${state>/adminMode} ? 'Detail' : 'Inactive' }">
                    <VBox class="sapUiSmallMargin">
                        <layoutData>
                            <FlexItemData growFactor="1"
                                shrinkFactor="0" />
                        </layoutData>

                        <Title text="{DISH_DESCR}"
                            wrapping="true" />
                        <Label text="{DISH_COMPOSITION}"
                            wrapping="true" />
                    </VBox>
                </f:GridListItem>
            </f:GridList>
        </Panel>

        <Panel id="panelForGridList4"
            backgroundDesign="Transparent">
            <headerToolbar>
                <Toolbar height="3rem">
                    <Title text="Закуски" />
                    <ToolbarSpacer />
                    <Button icon="sap-icon://add"
                        visible="{state>/adminMode}"/>
                </Toolbar>
            </headerToolbar>

            <f:GridList id="_Snacks-GridList"
                items="{/ZSNN_EMP_MENU}"
                select="onSelectDish"
                mode="MultiSelect">
                <f:GridListItem selected="{DishChoosen}"
                type="{= ${state>/adminMode} ? 'Detail' : 'Inactive' }">
                    <VBox class="sapUiSmallMargin">
                        <layoutData>
                            <FlexItemData growFactor="1"
                                shrinkFactor="0" />
                        </layoutData>

                        <Title text="{DISH_DESCR}"
                            wrapping="true" />
                        <Label text="{DISH_COMPOSITION}"
                            wrapping="true" />
                    </VBox>
                </f:GridListItem>
            </f:GridList>
        </Panel>

        <footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
                <Button text="Сохранить"
                    type="Accept" />
                <Button text="Отменить"
                    type="Reject" />
            </OverflowToolbar>
        </footer>

    </Page>
</mvc:View>