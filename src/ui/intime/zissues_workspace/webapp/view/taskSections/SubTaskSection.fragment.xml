<core:FragmentDefinition xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:smartField="sap.ui.comp.smartfield"
    xmlns:u="sap.ui.unified"
    xmlns:m="sap.m">


    <smartTable:SmartTable id="subTaskSmartTable"
        entitySet="ZSNN_INTIME_SUBTASK"
        tableType="ResponsiveTable"
        visible="{= ${state>/taskCreated} === true ? false : true}"
        header="Подзадачи"
        useExportToExcel="false"
        useVariantManagement="false"
        editTogglable="true"
        app:useSmartToggle="true"
        useTablePersonalisation="true"
        showRowCount="false"
        enableAutoBinding="true"
        tableBindingPath="to_SubTask">

        <smartTable:customToolbar>
            <OverflowToolbar design="Transparent">
                <ToolbarSpacer />
                <Button icon="sap-icon://add"
                    enabled="{state>/taskEditMode}"
                    text="Добавить подзадачу"
                    press="onAddNewSubTask" />
            </OverflowToolbar>
        </smartTable:customToolbar>

        <Table growing="true"
            rememberSelections="false"
            mode="SingleSelectMaster"
            selectionChange="onSubTaskItemPress"/>

    </smartTable:SmartTable>



</core:FragmentDefinition>